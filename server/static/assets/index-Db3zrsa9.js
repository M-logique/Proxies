(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}})();async function m(t){try{const e=await fetch(t);return e.ok?await e.json():null}catch{return null}}class h{constructor(e=4,o=3e3,r=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=o,this.animDur=r,this.queue=[],this.active=[]}show(e){const o=this._createToast(e);this.active.length<this.maxActive?this._display(o):this.queue.push(o)}_createToast(e){const o=this.template.cloneNode(!0);o.removeAttribute("id"),o.classList.remove("hidden");const r=o.querySelector(".toast-content");return r.textContent=e,o}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const o=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});o.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(r=>r!==e),this.queue.length){const r=this.queue.shift();this._display(r)}}}}function p(t){if(typeof t!="string"||t.length!==2)return null;const e=t.toUpperCase().split("").map(o=>127462+o.charCodeAt(0)-65);return String.fromCodePoint(...e)}function y(t){return String(t).replace(/\d/g,e=>String.fromCharCode(e.charCodeAt(0)+65296-48))}window.addEventListener("load",async()=>{const t=await m("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await m("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function o(i){const s=e.find(u=>u.name.toLowerCase()===i.toLowerCase());return s?s.code:null}const r=document.querySelector("#country-select"),n=document.querySelector("#configs"),c=document.querySelector("#subscription");let a=t.locations.totalCountries;const d=[];for(let i=0;i<a;i++){let s=0;t.profilesByCountryName[t.locations.byNames[i]]&&(s=t.profilesByCountryName[t.locations.byNames[i]].length),d.push({name:t.locations.byNames[i],count:s,flag:p(o(t.locations.byNames[i]))})}d.sort((i,s)=>s.count-i.count),d.forEach(i=>{const s=document.createElement("option");s.text=i.flag+i.name+" ("+y(i.count)+")",s.value=i.name,r.appendChild(s)});const f=new h;r.addEventListener("change",function(){n.innerHTML="",c.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+o(r.options[r.selectedIndex].value).toUpperCase();let i=1;t.profilesByCountryName[r.options[r.selectedIndex].value].forEach(s=>{const l=document.querySelector("#config-template").cloneNode(!0);l.removeAttribute("id"),l.classList.remove("hidden"),l.querySelector(".config-url").textContent=s,l.querySelector(".config-num").textContent=i,n.appendChild(l),i++}),document.querySelectorAll(".copy-config").forEach(s=>{s.addEventListener("click",()=>{const u=s.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(u),f.show("Successfully copied to clipboard.")})})})});
