(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();async function m(a){try{const e=await fetch(a);return e.ok?await e.json():null}catch{return null}}class p{constructor(e=4,o=3e3,r=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=o,this.animDur=r,this.queue=[],this.active=[]}show(e){const o=this._createToast(e);this.active.length<this.maxActive?this._display(o):this.queue.push(o)}_createToast(e){const o=this.template.cloneNode(!0);o.removeAttribute("id"),o.classList.remove("hidden");const r=o.querySelector(".toast-content");return r.textContent=e,o}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const o=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});o.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(r=>r!==e),this.queue.length){const r=this.queue.shift();this._display(r)}}}}window.addEventListener("load",async()=>{const a=await m("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await m("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function o(s){const i=e.find(c=>c.name.toLowerCase()===s.toLowerCase());return i?i.code:null}function r(s){return s.toUpperCase().split("").map(i=>String.fromCharCode(127397+i.charCodeAt(0))).join("")}const t=document.querySelector("#country-select"),n=document.querySelector("#configs"),l=document.querySelector("#subscription");let f=a.locations.totalCountries;for(let s=0;s<f;s++){const i=document.createElement("option"),c=a.locations.byNames[s],u=o(c);i.value=u,i.text=`${r(u)} ${c}`,t.appendChild(i)}const h=new p;t.addEventListener("change",function(){n.innerHTML="";const s=t.options[t.selectedIndex].value;l.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+s;let i=1;a.profilesByCountryCode[s].forEach(c=>{const d=document.querySelector("#config-template").cloneNode(!0);d.removeAttribute("id"),d.classList.remove("hidden"),d.querySelector(".config-url").textContent=c,d.querySelector(".config-num").textContent=i,n.appendChild(d),i++}),document.querySelectorAll(".copy-config").forEach(c=>{c.addEventListener("click",()=>{const u=c.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(u),h.show("Successfully copied to clipboard.")})})})});
