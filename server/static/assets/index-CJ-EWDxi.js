(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();async function d(c){try{const e=await fetch(c);return e.ok?await e.json():null}catch{return null}}class f{constructor(e=4,n=3e3,o=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=n,this.animDur=o,this.queue=[],this.active=[]}show(e){const n=this._createToast(e);this.active.length<this.maxActive?this._display(n):this.queue.push(n)}_createToast(e){const n=this.template.cloneNode(!0);n.removeAttribute("id"),n.classList.remove("hidden");const o=n.querySelector(".toast-content");return o.textContent=e,n}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const n=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});n.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(o=>o!==e),this.queue.length){const o=this.queue.shift();this._display(o)}}}}window.addEventListener("load",async()=>{const c=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function n(s){const r=e.find(u=>u.name.toLowerCase()===s.toLowerCase());return r?r.code:null}const o=document.querySelector("#country-select"),t=document.querySelector("#configs"),i=document.querySelector("#subscription");let a=c.locations.totalCountries;for(let s=0;s<a;s++){const r=document.createElement("option");r.value=c.locations.byNames[s],r.text=c.locations.byNames[s],o.appendChild(r)}const m=new f;o.addEventListener("change",function(){t.innerHTML="",i.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+n(o.options[o.selectedIndex].value).toUpperCase();let s=1;c.profilesByCountryName[o.options[o.selectedIndex].value].forEach(r=>{const l=document.querySelector("#config-template").cloneNode(!0);l.removeAttribute("id"),l.classList.remove("hidden"),l.querySelector(".config-url").textContent=r,l.querySelector(".config-num").textContent=s,t.appendChild(l),s++}),document.querySelectorAll(".copy-config").forEach(r=>{r.addEventListener("click",()=>{const u=r.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(u),m.show("Successfully copied to clipboard.")})})})});
