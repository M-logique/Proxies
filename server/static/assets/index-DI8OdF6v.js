(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();async function p(a){try{const e=await fetch(a);return e.ok?await e.json():null}catch{return null}}class y{constructor(e=4,o=3e3,c=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=o,this.animDur=c,this.queue=[],this.active=[]}show(e){const o=this._createToast(e);this.active.length<this.maxActive?this._display(o):this.queue.push(o)}_createToast(e){const o=this.template.cloneNode(!0);o.removeAttribute("id"),o.classList.remove("hidden");const c=o.querySelector(".toast-content");return c.textContent=e,o}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const o=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});o.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(c=>c!==e),this.queue.length){const c=this.queue.shift();this._display(c)}}}}window.addEventListener("load",async()=>{const a=await p("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await p("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function o(r){const s=e.find(i=>i.name.toLowerCase()===r.toLowerCase());return s?s.code:null}function c(r){return r.toUpperCase().split("").map(s=>String.fromCharCode(127397+s.charCodeAt(0))).join("")}const t=document.querySelector("#country-select"),n=document.querySelector("#configs"),l=document.querySelector("#subscription");let h=a.locations.totalCountries;for(let r=0;r<h;r++){const s=document.createElement("option"),i=a.locations.byNames[r],u=o(i);s.value=u,s.text=`${c(u)} ${i}`,t.appendChild(s)}const m=new y;let f=1;Object.values(a.profilesByCountryName).flat().forEach(r=>{const i=document.querySelector("#config-template").cloneNode(!0);i.removeAttribute("id"),i.classList.remove("hidden"),i.querySelector(".config-url").textContent=r,i.querySelector(".config-num").textContent=f,n.appendChild(i),f++}),document.querySelectorAll(".copy-config").forEach(r=>{r.addEventListener("click",()=>{const s=r.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(s),m.show("Successfully copied to clipboard.")})}),t.addEventListener("change",function(){n.innerHTML="";const r=t.options[t.selectedIndex].value;l.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+r;let s=1;a.profilesByCountryCode[r].forEach(i=>{const d=document.querySelector("#config-template").cloneNode(!0);d.removeAttribute("id"),d.classList.remove("hidden"),d.querySelector(".config-url").textContent=i,d.querySelector(".config-num").textContent=s,n.appendChild(d),s++}),document.querySelectorAll(".copy-config").forEach(i=>{i.addEventListener("click",()=>{const u=i.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(u),m.show("Successfully copied to clipboard.")})})})});
