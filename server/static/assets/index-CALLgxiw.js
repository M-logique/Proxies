(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();async function d(a){try{const e=await fetch(a);return e.ok?await e.json():null}catch{return null}}class h{constructor(e=4,o=3e3,i=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=o,this.animDur=i,this.queue=[],this.active=[]}show(e){const o=this._createToast(e);this.active.length<this.maxActive?this._display(o):this.queue.push(o)}_createToast(e){const o=this.template.cloneNode(!0);o.removeAttribute("id"),o.classList.remove("hidden");const i=o.querySelector(".toast-content");return i.textContent=e,o}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const o=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});o.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(i=>i!==e),this.queue.length){const i=this.queue.shift();this._display(i)}}}}window.addEventListener("load",async()=>{const a=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function o(s){const r=e.find(c=>c.name.toLowerCase()===s.toLowerCase());return r?r.code:null}function i(s){return s.toUpperCase().split("").map(r=>String.fromCharCode(127397+r.charCodeAt(0))).join("")}const t=document.querySelector("#country-select"),n=document.querySelector("#configs"),u=document.querySelector("#subscription");let m=a.locations.totalCountries;for(let s=0;s<m;s++){const r=document.createElement("option"),c=a.locations.byNames[s],l=o(c);r.value=c,r.text=`${i(l)} ${c}`,t.appendChild(r)}const f=new h;t.addEventListener("change",function(){n.innerHTML="",u.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+o(t.options[t.selectedIndex].value);let s=1;a.profilesByCountryCode[t.options[t.selectedIndex].value].forEach(r=>{const l=document.querySelector("#config-template").cloneNode(!0);l.removeAttribute("id"),l.classList.remove("hidden"),l.querySelector(".config-url").textContent=r,l.querySelector(".config-num").textContent=s,n.appendChild(l),s++}),document.querySelectorAll(".copy-config").forEach(r=>{r.addEventListener("click",()=>{const c=r.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(c),f.show("Successfully copied to clipboard.")})})})});
