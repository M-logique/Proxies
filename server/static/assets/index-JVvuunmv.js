(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();async function d(t){try{const e=await fetch(t);return e.ok?await e.json():null}catch{return null}}class f{constructor(e=4,o=3e3,i=300){this.container=document.getElementById("toast-container"),this.template=document.getElementById("toast-template"),this.maxActive=e,this.duration=o,this.animDur=i,this.queue=[],this.active=[]}show(e){const o=this._createToast(e);this.active.length<this.maxActive?this._display(o):this.queue.push(o)}_createToast(e){const o=this.template.cloneNode(!0);o.removeAttribute("id"),o.classList.remove("hidden");const i=o.querySelector(".toast-content");return i.textContent=e,o}_display(e){this.container.appendChild(e),this.active.push(e),e.animate([{transform:"translateY(20px)",opacity:0},{transform:"translateY(0)",opacity:1}],{duration:this.animDur,easing:"ease-out",fill:"forwards"}),setTimeout(()=>this._dismiss(e),this.duration)}_dismiss(e){const o=e.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(20px)",opacity:0}],{duration:this.animDur,easing:"ease-in",fill:"forwards"});o.onfinish=()=>{if(this.container.removeChild(e),this.active=this.active.filter(i=>i!==e),this.queue.length){const i=this.queue.shift();this._display(i)}}}}function h(t){if(typeof t!="string"||t.length!==2)return null;const e=t.toUpperCase().split("").map(o=>127462+o.charCodeAt(0)-65);return String.fromCodePoint(...e)}function p(t){return String(t).replace(/\d/g,e=>String.fromCharCode(e.charCodeAt(0)+65296-48))}window.addEventListener("load",async()=>{const t=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/proxies/byLocation.json"),e=await d("https://raw.githubusercontent.com/M-logique/Proxies/refs/heads/main/server/countries.json");function o(s){const c=e.find(a=>a.name.toLowerCase()===s.toLowerCase());return c?c.code:null}const i=document.querySelector("#country-select"),n=document.querySelector("#configs"),r=document.querySelector("#subscription");let l=t.locations.totalCountries;for(let s=0;s<l;s++){const c=document.createElement("option");let a=0;t.profilesByCountryName[t.locations.byNames[s]]&&(a=t.profilesByCountryName[t.locations.byNames[s]].length),c.text=h(o(t.locations.byNames[s]))+t.locations.byNames[s]+" ("+p(a)+")",c.value=t.locations.byNames[s],i.appendChild(c)}const m=new f;i.addEventListener("change",function(){n.innerHTML="",r.querySelector(".config-url").textContent="https://1oi.xyz/proxies/v2ray/location/"+o(i.options[i.selectedIndex].value).toUpperCase();let s=1;t.profilesByCountryName[i.options[i.selectedIndex].value].forEach(c=>{const u=document.querySelector("#config-template").cloneNode(!0);u.removeAttribute("id"),u.classList.remove("hidden"),u.querySelector(".config-url").textContent=c,u.querySelector(".config-num").textContent=s,n.appendChild(u),s++}),document.querySelectorAll(".copy-config").forEach(c=>{c.addEventListener("click",()=>{const a=c.parentElement.querySelector(".config-url").textContent;navigator.clipboard.writeText(a),m.show("Successfully copied to clipboard.")})})})});
